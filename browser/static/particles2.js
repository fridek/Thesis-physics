function d(){this.c=this.d=this.velocityY=this.velocityX=this.b=this.a=0;this.n=!1}d.prototype.step=function(a){this.a+=this.velocityX*a;this.b+=this.velocityY*a;this.d+=a};d.prototype.reset=function(){this.c=this.d=this.velocityY=this.velocityX=this.b=this.a=0;this.n=!1};function f(){this.h=this.b=this.a=0;this.g=10;this.l=0.2;this.f=10*Math.PI/180;this.c=3;this.k=10};function h(){this.e=[];this.m=[];this.i=[];this.j=Date.now()}
h.prototype.step=function(){var a,g=Date.now()-this.j;this.j+=g;g*=0.001;this.i.forEach(function(b){for(var a=0;a<b.k;a++){var c=this.m.pop();void 0!==c?(c=this.e[c],c.reset()):(c=new d,this.e.push(c));c.c=b.c;c.a=b.a;c.b=b.b;c.velocityX=Math.sin(b.h+(Math.random()-0.5)*b.f)*b.g*b.l;c.velocityY=Math.cos(b.h+(Math.random()-0.5)*b.f)*b.g*(1+(Math.random()-0.5)*b.l)}},this);for(a=0;a<this.e.length;a++){var e=this.e[a];e.step(g);if(0>e.a||1200<=e.a||0>e.b||400<=e.b||e.d>e.c)this.m.push(a),e.n=!0}};var k=new h,l=new f;l.a=600;l.b=100;l.g=50;l.f=30*Math.PI/180;l.k=10;k.i.push(l);var m=new f;m.a=200;m.b=300;m.g=30;m.l=0.75;m.f=60*Math.PI/180;m.c=5;m.h=90*Math.PI/180;m.k=10;k.i.push(m);for(var n=0;1E3>n;n++)k.step();
