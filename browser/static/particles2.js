function d(){this.c=this.g=this.velocityY=this.velocityX=this.b=this.a=0;this.m=!1}d.prototype.step=function(){this.a+=this.velocityX;this.b+=this.velocityY;this.g++};d.prototype.reset=function(){this.c=this.g=this.velocityY=this.velocityX=this.b=this.a=0;this.m=!1};function e(){this.h=this.b=this.a=0;this.f=10;this.k=0.2;this.e=10*Math.PI/180;this.c=50;this.j=10};function g(){this.d=[];this.l=[];this.i=[]}g.prototype.step=function(){var f;this.i.forEach(function(a){for(var c=0;c<a.j;c++){var b=this.l.pop();void 0!==b?(b=this.d[b],b.reset()):(b=new d,this.d.push(b));b.c=a.c;b.a=a.a;b.b=a.b;b.velocityX=Math.sin(a.h+(Math.random()-0.5)*a.e)*a.f*a.k;b.velocityY=Math.cos(a.h+(Math.random()-0.5)*a.e)*a.f*(1+(Math.random()-0.5)*a.k)}},this);for(f=0;f<this.d.length;f++){var c=this.d[f];c.step();if(0>c.a||1200<=c.a||0>c.b||400<=c.b||c.g>c.c)this.l.push(f),c.m=!0}};var h=new g,k=new e;k.a=600;k.b=100;k.f=3;k.e=30*Math.PI/180;k.j=1E3;h.i.push(k);var l=new e;l.a=200;l.b=300;l.f=1;l.k=0.75;l.e=60*Math.PI/180;l.c=100;l.h=90*Math.PI/180;l.j=1E3;h.i.push(l);for(var m=0;1E3>m;m++)h.step();
